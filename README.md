Chandra ACIS analysis tools and documents
=========================================

Weitian (Aaron) LI, Junhu GU, and Zhenghao ZHU


Introduction
------------
This repository currently contains the following tools:
+ Chandra ACIS data reduction
+ Point source and flares removal
+ Blanksky reprojection
+ Background spectrum correction
+ Source spectra extraction and deprojection analysis (temperature profile)
+ Surface brightness profile extraction
+ Gravitational mass profile calculation (NFW profile extrapolation)
+ Luminosity and flux calculation

These tools are developed to help and automate our batch analysis of the
big galaxy groups and clusters sample observed by Chandra ACIS.
Therefore, there are many assumptions and hacks in these tools, and many
cleanups are needed.  Last but not least, documents are badly needed.

These tools are tested with:
+ CIAO v4.6
+ CIAO v4.9 (testing ...)
+ HEASoft v6.16
+ HEASoft v6.19


WARNING
-------
These tools are currently under **heavy development**, therefore may have
**various bugs**.


TODO
----
+ rewrite most scripts using Python
+ write memos/docs for Chandra data analysis


Installation
------------
1. Clone this repository with ``opt_utilities``:

   ```
   $ git clone --recursive https://github.com/liweitianux/chandra-acis-analysis.git
   ```

   or in this way:

   ```
   $ git clone https://github.com/liweitianux/chandra-acis-analysis.git
   $ cd chandra-acis-analysis
   $ git submodule update --init --recursive
   ```

2. Build tools in ``src`` directory:

   ```
   $ cd src
   $ make clean
   $ make
   (append 'OPENMP=yes' to enable OpenMP)
   $ make install
   ```

3. Install the following runtime dependencies:

   * Python (>=3.5)
   * [ruamel.yaml](https://bitbucket.org/ruamel/yaml)
   * [numpy](http://numpy.org/)
   * [scipy](https://scipy.org/)
   * [astropy](http://www.astropy.org/)


Settings
--------
Add the following settings to your shell's initialization file
(e.g., ``~/.bashrc`` or ``~/.zshrc``).
```
# Environment variables:
export CHANDRA_ACIS_BIN="<path>/chandra-acis-analysis/bin"

# Handy aliases:
alias fitmass="${CHANDRA_ACIS_BIN}/fit_mass.sh"
alias fitnfw="${CHANDRA_ACIS_BIN}/fit_nfw_mass mass_int.dat"
alias fitsbp="${CHANDRA_ACIS_BIN}/fit_sbp.sh"
alias fittp="${CHANDRA_ACIS_BIN}/fit_wang2012_model"
alias calclxfx="${CHANDRA_ACIS_BIN}/calc_lxfx_wrapper.sh"
alias getlxfx="${CHANDRA_ACIS_BIN}/get_lxfx_data.sh"
```


Usage
-----
See the documentations located in the ``doc`` directory,
especially the [``HOWTO_chandra_acis_analysis.txt``](doc/HOWTO_chandra_acis_analysis.txt)

NOTE: complete and detailed documentations are badly needed!


Useful Links
------------
* [CIAO](http://cxc.cfa.harvard.edu/ciao/)
* [Chandra CALDB](http://cxc.cfa.harvard.edu/ciao/download/caldb.html)
* [Chandra Data Archive](http://cda.harvard.edu/chaser/)
* [NED search by name](http://ned.ipac.caltech.edu/forms/byname.html)
* [NED search near position](https://ned.ipac.caltech.edu/forms/nearposn.html)
* [SIMBAD](http://simbad.u-strasbg.fr/simbad/)
* [HEASoft](https://heasarc.gsfc.nasa.gov/lheasoft/)
* [XSPEC](https://heasarc.gsfc.nasa.gov/lheasoft/xanadu/xspec/index.html)
* [QDP/PLT User's Guide](https://heasarc.gsfc.nasa.gov/ftools/others/qdp/qdp.html)
* [FTOOLS](https://heasarc.gsfc.nasa.gov/ftools/)
* [HEASARC nH tool](https://heasarc.gsfc.nasa.gov/cgi-bin/Tools/w3nh/w3nh.pl)


License
-------
Unless otherwise declared:

* Codes developed by us are distributed under the
  [MIT License](https://opensource.org/licenses/MIT);
* Documentations and products generated by us are distributed under the
  [Creative Commons Attribution 3.0 License](https://creativecommons.org/licenses/by/3.0/us/deed.en_US).
